<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <!--<title> Responsiive Admin Dashboard -->
    <link rel="stylesheet" href="style.css">
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>USER MANAGEMENT</title>



      <!-- Bootstrap CSS
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<link rel="stylesheet" href="assets/css/bootstrap.css" />
<link rel="stylesheet" href="assets/css/bootstrap.min.css" />

<link rel="stylesheet" href="assets/css/main.css">
<link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,900;1,300;1,600;1,800&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="assets/css/tablee.css">
<title>User Management</title>
   </head>
<body>
  <div class="sidebar">
    <div class="logo-details">
      <i class='bx-chevron-down'></i>
      <span class="logo_name">ADMIN</span>
    </div>
      <ul class="nav-links">
        <li>
          <a href="seealluserinorganistion.html" class="active">
            <i class='bx bx-grid-alt' ></i>
            <span class="links_name">USER MANAGEMENT</span>
          </a>
        </li>
        <ul class="nav-links">
            <li>
              <a href="dashboard.html">
                <i class='bx-cart-alt'></i>
                <span class="links_name">SUMMARY DASHBOARD</span>
              </a>
            </li>
          
          
        
        <li>
          <a href="profile.html">
            <i class='bx bx-cog' ></i>
            <span class="links_name">Setting</span>
          </a>
        </li>
        <li class="log_out">
          <a href="loginPAGE.html">
            <i class='bx bx-log-out'></i>
            <span class="links_name">Log out</span>
          </a>
        </li>
      </ul>
  </div>



  <section class="home-section">
    <nav>
      <div class="sidebar-button">
        <i class='bx bx-menu sidebarBtn'></i>
        <span class="dashboard">ALL REGISTERED USER</span>
      </div>
      <div class="search-box">
        <input type="text" placeholder="Search...">
        <i class='bx bx-search' ></i>
      </div>
      <div class="profile-details">
        <img src="fire.jpg" style="width:20%">
        <span class="admin_name">Adams</span>
        <i class='bx bx-chevron-down' ></i>
      </div>
    </nav>
    <div class="home-content">
      <div class="overview-boxes">

          
        </div>
      </div>
      <div class="sales-boxes">
        <div class="recent-sales box">
          <div class="title">ADMIN DETAILS</div>                    
                    
          <div class="card mt-3">
            <div class="card-body">
                <!-- <div class="row">
                    <div class="col-lg-3">
                        <div class="form-group">
                            
                            <select class="form-control" id="exampleFormControlSelect2" style="font-size: 14px">
                                <option value="">Program</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                          
                            <select class="form-control" id="exampleFormControlSelect3" style="font-size: 14px">
                                <option value="">Enrollment Status</option>
                                <option value="Enrolled">Enrolled</option>
                                <option value="Awaiting Enrollment">Awaiting Enrollment</option>
                                <option value="Awaiting Registration">Awaiting Registration</option>
                                <option value="Lead">Lead</option>
                                <option value="Expired">Expired</option>
                                <option value="About To Expire">About To Expire</option>
                                <option value="Completed">Completed</option>
                            
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group">
                            <button class="btn btn-pry" type="button" onclick="filter();">Filter</button>
                        </div>
                    </div>
                </div> -->
                <!-- <div class="row">
                    <div class="col-sm-3 col-lg-3">

                    </div>
                    <div class="col-sm-3 col-lg-3">

                    </div>
                    <div class="col-sm-3 col-lg-3">

                    </div>
                    <div class="col-sm-3 col-lg-3 mb-3">
                        <form class="navbar-form" role="search">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Search" id="q" onkeyup="search();"  style="font-size: 14px">
                                <!--div class="input-group-btn">
                                    <button class="btn btn-pry" type="button"><i
                                            class="glyphicon glyphicon-search"></i></button>
                                </div-->
                            </div>
                        </form>
                    </div>
                </div> -->
                <div class="user">
                    <table class="table " id="fi">
                        
                    </table>
                    <div class="pagination">
                        <a id="btn_prev" href="javascript:prevPage()">&laquo;</a>
                        <a class="active" href="#"><span id="page"></span></a>
                        <a id="btn_next" href="javascript:nextPage()">&raquo;</a>
                    </div>

                </div>
            </div>
        </div>
        </div>
      </div>
    </div>
  </section>

 <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <script>
         let sidebar = document.querySelector(".sidebar");
         let sidebarBtn = document.querySelector(".sidebarBtn");
         sidebarBtn.onclick = function() {
         sidebar.classList.toggle("active");
         if(sidebar.classList.contains("active")){
           sidebarBtn.classList.replace("bx-menu" ,"bx-menu-alt-right");
         }else{
           sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
         }
        }

        var jsonData = [];
    var current_page = 1;
           var records_per_page = 20;
        var url = "https://surfacenewservice.herokuapp.com";



        //ON-READY FUNCTION
         (function() {
         $.ajax({
            type: "GET",
            beforeSend: function(request) {
                request.setRequestHeader("Access-Control-Allow-Headers", "X-Requested-With, content-type");
                request.setRequestHeader("Access-Control-Allow-Origin", "*");
            },
            url: url + "/Reporters/getAllReporters",
            contentType: "application/json",
            dataType: 'json',
            success: function(result){
              jsonData = result;
                
              console.log(result)
               changePage(1);
            },
            error: function(result){
                console.log("Err"+result.status);
            }
        })

        
        function changePage(page){
        var btn_next = document.getElementById("btn_next");
        var btn_prev = document.getElementById("btn_prev");
        var listing_table = document.getElementById("fi");
        var page_span = document.getElementById("page");
  
        // Validate page
        if (page < 1) page = 1;
        if (page > numPages()) page = numPages();
  
        listing_table.innerHTML = "";
  
        listing_table.innerHTML += '<tbody><tr><td><b>First Name</b></td><td><b>Last Name</b></td><td><b>Sex</b></td><td><b>Date Of Birth</b></td><td><b>Email</b></td><td><b>Phone Number</b></td><td><b>Actions</b></td></tr>';
        var total = page * records_per_page;
        if(jsonData.length < (page * records_per_page)){
            total = jsonData.length;
        }
        if(total <= 0) return;
        for (var i = (page-1) * records_per_page; i < total; i++) {
           
            
            //console.log("mexid "+exams[i].id);
            var oneRecord = "";
                oneRecord = '<tr><td>' + jsonData[i].fname + '</td><td>' + jsonData[i].lname + '</td><td>' + jsonData[i].sex + '</td><td>' + jsonData[i].dayOfBirth + "/" + jsonData[i].monthOfBirth + "/" + jsonData[i].yearOfBirth + '</td><td>' + jsonData[i].email + '</td><td>' + jsonData[i].phoneNumber + '</td><td class="options-ham-menu"> <div class="actions dropdown"> \
                                <span class="actions  dropdown-toggle" href="#"  id="action-dropDown2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">...</span> \
                                <div class="action dropdown-menu" aria-labelledby="action-dropDown2"> \
                                <a class="dropdown-item" href="#">Placeholder</a></div></div></td></tr>';
            
            listing_table.innerHTML += oneRecord;
        }
        listing_table.innerHTML += '</tbody>';
        page_span.innerHTML = page;
  
        if (page == 1) {
            btn_prev.style.visibility = "hidden";
        } else {
            btn_prev.style.visibility = "visible";
        }
  
        if (page == numPages()) {
            btn_next.style.visibility = "hidden";
        } else {
            btn_next.style.visibility = "visible";
        }
    }
  
    function numPages(){
        return Math.ceil(jsonData.length / records_per_page);
    }
        

        $(".hamburger").click(function(){
            $(".wrapper").toggleClass("active")
        })
    })();
 </script>

</body>
</html>

